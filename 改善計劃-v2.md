# vite-plugin-html-kit æ”¹å–„è¨ˆåŠƒ v2.0

---

## ğŸ“Š æ”¹å–„é …ç›®ç¸½è¦½

æœ¬æ–‡ä»¶åŒ…å« **17 é …æ”¹å–„å»ºè­°**ï¼Œåˆ†ç‚ºå››å€‹å„ªå…ˆç´šåˆ¥ï¼š

- ~~ğŸ”´ **å¿…è¦æ”¹é€²** (ç™¼å¸ƒå‰å¿…é ˆå®Œæˆ) - ~~3~~ 0 é … (å·²å®Œæˆ)~~
- ğŸŸ¡ **å»ºè­°æ”¹é€²** (çŸ­æœŸå…§å®Œæˆ) - ~~5~~ 2 é …
- ğŸŸ¢ **å„ªåŒ–å»ºè­°** (ä¸­é•·æœŸè¦åŠƒ) - 5 é …
- ~~ğŸ“¦ **ç™¼å¸ƒæº–å‚™** (npm ç™¼å¸ƒç›¸é—œ) - ~~2~~ 0 é … (å·²å®Œæˆ)~~

---

## âœ… å·²å®Œæˆé …ç›®

âœ… **æ·»åŠ  LICENSE æ–‡ä»¶** - MIT License å·²å»ºç«‹ (2026-01-15)
âœ… **æ·»åŠ  TypeScript é¡å‹å®šç¾©** - `src/index.d.ts` å·²å»ºç«‹ï¼Œæ”¯æ´ IDE è‡ªå‹•å®Œæˆ (2026-01-15)
âœ… **ä¿®å¾©å…¶ä»–è®Šé«”æª”æ¡ˆçš„å®‰å…¨æ¼æ´** - XML ç‰ˆæœ¬å’Œ Lite ç‰ˆæœ¬å·²ä¿®å¾©æ‰€æœ‰å®‰å…¨å•é¡Œ (2026-01-15)
âœ… **å®Œå–„ package.json å…ƒæ•¸æ“š** - æ·»åŠ  homepageã€enginesã€peerDependenciesã€å®Œæ•´ keywords å’Œæ¸¬è©¦è…³æœ¬ (2026-01-15)
âœ… **æ·»åŠ è‡ªå‹•åŒ–æ¸¬è©¦** - ä½¿ç”¨ Vitest å»ºç«‹å®Œæ•´æ¸¬è©¦å¥—ä»¶ï¼ŒåŒ…å« 49 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œè¦†è“‹ç‡é” 91.97% (2026-01-15)
   - âœ… å®‰å…¨æ€§æ¸¬è©¦ (`tests/security.test.js`) - è·¯å¾‘éæ­·æ”»æ“Šé˜²è­·
   - âœ… èªæ³•è½‰æ›æ¸¬è©¦ (`tests/transform.test.js`) - @if, @foreach, @switch è½‰æ›
   - âœ… Include åŠŸèƒ½æ¸¬è©¦ (`tests/include.test.js`) - éè¿´ includeã€è³‡æ–™å‚³é
   - âœ… æ•´åˆæ¸¬è©¦ (`tests/integration.test.js`) - çœŸå¯¦å ´æ™¯æ¸¬è©¦ï¼ˆéƒ¨è½æ ¼ã€é›»å•†ï¼‰
âœ… **å®Œå–„ README æ–‡æª”** - å¾ 124 è¡Œæ“´å……è‡³ 537 è¡Œï¼Œæ·»åŠ å¾½ç« ã€çœŸå¯¦ç¯„ä¾‹ã€æ•…éšœæ’é™¤ã€æ€§èƒ½æŒ‡æ¨™ã€æ’ä»¶æ¯”è¼ƒè¡¨ã€è²¢ç»æŒ‡å— (2026-01-15)
âœ… **æ€§èƒ½å„ªåŒ– - LRU Cache** - å¯¦ä½œæ–¹æ¡ˆ Aï¼Œä½¿ç”¨ LRU Cache å¿«å–è½‰æ›çµæœï¼Œæ€§èƒ½æå‡ 5-7 å€ï¼Œç‰¹åˆ¥é©åˆé–‹ç™¼ç’°å¢ƒ HMR (2026-01-15)
   - âœ… å®‰è£ä¸¦æ•´åˆ lru-cache å¥—ä»¶
   - âœ… åŠ å…¥ hash å‡½å¼ç”Ÿæˆå¿«å–éµ
   - âœ… ä¿®æ”¹ transformLogicTags ä½¿ç”¨å¿«å–æ©Ÿåˆ¶
   - âœ… åŠ å…¥æ€§èƒ½çµ±è¨ˆè¿½è¹¤ï¼ˆDEBUG æ¨¡å¼ï¼‰
   - âœ… å‰µå»ºæ€§èƒ½æ¸¬è©¦é©—è­‰æ•ˆæœ
âœ… **å¢å¼·éŒ¯èª¤è™•ç† - å¾ªç’°å¼•ç”¨æª¢æ¸¬** - ä½¿ç”¨é–‰åŒ…è¿½è¹¤ include å †ç–Šï¼Œé˜²æ­¢ç„¡é™éè¿´ï¼Œ58 å€‹æ¸¬è©¦å…¨éƒ¨é€šé (2026-01-15)
   - âœ… ä¿®æ”¹ resolveIncludes ä½¿ç”¨é–‰åŒ…å„²å­˜å †ç–Š
   - âœ… æª¢æ¸¬ç›´æ¥å¾ªç’°å¼•ç”¨ï¼ˆA â†’ B â†’ Aï¼‰
   - âœ… æª¢æ¸¬é–“æ¥å¾ªç’°å¼•ç”¨ï¼ˆA â†’ B â†’ C â†’ Aï¼‰
   - âœ… å…è¨±åˆæ³•çš„å¤šæ¬¡å¼•ç”¨ï¼ˆéå¾ªç’°ï¼‰
   - âœ… å‰µå»ºå¾ªç’°å¼•ç”¨æ¸¬è©¦å¥—ä»¶ï¼ˆ6 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼‰
   - âœ… é¡¯ç¤ºå®Œæ•´å¾ªç’°è·¯å¾‘åœ¨éŒ¯èª¤è¨Šæ¯ä¸­
âœ… **npm ç™¼å¸ƒæ¸…å–®æª¢æŸ¥** - å‰µå»º .npmignoreï¼Œé©—è­‰æ‰“åŒ…å…§å®¹ï¼ˆ5 å€‹æ–‡ä»¶ï¼Œ41.5 kBï¼‰ï¼Œpackage.json é…ç½®å®Œå–„ (2026-01-15)
   - âœ… å‰µå»º .npmignore æ’é™¤é–‹ç™¼æª”æ¡ˆ
   - âœ… æª¢æŸ¥ package.json æ‰€æœ‰å¿…è¦æ¬„ä½
   - âœ… åŸ·è¡Œ npm pack --dry-run é©—è­‰å…§å®¹
   - âœ… ç¢ºèªæ‰“åŒ…å¤§å°åˆç†ï¼ˆå£“ç¸®å¾Œ 15.1 kBï¼‰
âœ… **ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ - standard-version** - å®‰è£ä¸¦é…ç½® standard-versionï¼Œæ·»åŠ  release ç›¸é—œè…³æœ¬ (2026-01-15)
   - âœ… å®‰è£ standard-version å¥—ä»¶
   - âœ… æ·»åŠ  release è…³æœ¬ï¼ˆpatch/minor/major/dry-runï¼‰
   - âœ… æº–å‚™è‡ªå‹•åŒ–ç‰ˆæœ¬ç®¡ç†èˆ‡ CHANGELOG ç”Ÿæˆ

---

## ğŸŸ¡ å»ºè­°æ”¹é€² (çŸ­æœŸå…§å®Œæˆ)

### 7. æ·»åŠ  CHANGELOG.md

**å•é¡Œ**
- æ²’æœ‰ç‰ˆæœ¬è®Šæ›´è¨˜éŒ„
- ç”¨æˆ¶ç„¡æ³•äº†è§£å„ç‰ˆæœ¬çš„å·®ç•°

**è§£æ±ºæ–¹æ¡ˆ**
å»ºç«‹ `CHANGELOG.md`ï¼Œéµå¾ª [Keep a Changelog](https://keepachangelog.com/) è¦ç¯„ï¼š

```markdown
# Changelog

æ‰€æœ‰é‡è¦çš„è®Šæ›´éƒ½æœƒè¨˜éŒ„åœ¨é€™å€‹æª”æ¡ˆä¸­ã€‚

æœ¬å°ˆæ¡ˆéµå¾ª [Semantic Versioning](https://semver.org/spec/v2.0.0.html)ã€‚

## [Unreleased]

### è¨ˆåŠƒä¸­
- Slots/Blocks åŠŸèƒ½ (é¡ä¼¼ Laravel Blade çš„ @section/@yield)
- Stacks åŠŸèƒ½ (æ”¯æ´ @push/@stack)

## [0.0.1] - 2026-01-15

### æ–°å¢
- ğŸ‰ åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- âœ¨ æ”¯æ´ Blade é¢¨æ ¼èªæ³• (@if, @foreach, @switch)
- âœ¨ æ”¯æ´ Partial Includes (`<include src="..." />`)
- âœ¨ æ”¯æ´è®Šæ•¸æ’å€¼ (`{{ variable }}`)
- âœ¨ å®Œæ•´çš„ HMR æ”¯æ´
- âœ¨ éè¿´ Include åŠŸèƒ½
- ğŸ“ å®Œæ•´çš„ç¹é«”ä¸­æ–‡è¨»è§£
- ğŸ“˜ TypeScript é¡å‹å®šç¾©

### å®‰å…¨æ€§
- ğŸ”’ è·¯å¾‘éæ­·æ”»æ“Šé˜²è­·
- ğŸ”’ æª”æ¡ˆè·¯å¾‘é©—è­‰æ©Ÿåˆ¶

### ä¿®å¾©
- ğŸ› ä¿®å¾© {{ }} èªæ³•åœ¨ partials ä¸­ä¸å·¥ä½œçš„å•é¡Œ
- ğŸ› ä¿®å¾© HMR ä¸æ”¯æ´ partials ç›®éŒ„çš„å•é¡Œ
- ğŸ› ä¿®å¾© Switch è®Šæ•¸åç¨±è¡çªé¢¨éšª

### æ”¹é€²
- ğŸ’ª ä½¿ç”¨ matchAll æ”¹é€²å±¬æ€§è§£æ
- ğŸ’ª éŒ¯èª¤è¨Šæ¯æ›´å‹å–„ï¼ˆé¡¯ç¤º HTML è¨»è§£ï¼‰
- ğŸ’ª ç’°å¢ƒè®Šæ•¸æ§åˆ¶èª¿è©¦è¼¸å‡º

[Unreleased]: https://github.com/dennykuo/vite-plugin-html-kit/compare/v0.0.1...HEAD
[0.0.1]: https://github.com/dennykuo/vite-plugin-html-kit/releases/tag/v0.0.1
```

**å„ªå…ˆç´š**: ğŸŸ¡ ä¸­
**é ä¼°æ™‚é–“**: 30 åˆ†é˜

---

### 8. å»ºç«‹ CI/CD è‡ªå‹•åŒ–æµç¨‹

**å•é¡Œ**
- æ²’æœ‰è‡ªå‹•åŒ–æ¸¬è©¦æµç¨‹
- ç„¡æ³•ç¢ºä¿æ¯æ¬¡æäº¤éƒ½é€šéæ¸¬è©¦
- ç™¼å¸ƒæµç¨‹æ‰‹å‹•ï¼Œå®¹æ˜“å‡ºéŒ¯

**è§£æ±ºæ–¹æ¡ˆ**
å»ºç«‹ `.github/workflows/` è‡ªå‹•åŒ–æµç¨‹ï¼š

**1. æ¸¬è©¦æµç¨‹** (`.github/workflows/test.yml`):
```yaml
name: Test

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  test:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [14.x, 16.x, 18.x, 20.x]

    steps:
      - uses: actions/checkout@v4

      - name: ä½¿ç”¨ Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}

      - name: å®‰è£ä¾è³´
        run: npm ci

      - name: åŸ·è¡Œæ¸¬è©¦
        run: npm test

      - name: æ¸¬è©¦è¦†è“‹ç‡
        run: npm run test:coverage
        if: matrix.node-version == '20.x'

      - name: ä¸Šå‚³è¦†è“‹ç‡å ±å‘Š
        uses: codecov/codecov-action@v3
        if: matrix.node-version == '20.x'
        with:
          token: ${{ secrets.CODECOV_TOKEN }}
```

**2. ç™¼å¸ƒæµç¨‹** (`.github/workflows/publish.yml`):
```yaml
name: Publish to npm

on:
  release:
    types: [published]

jobs:
  publish:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: '20.x'
          registry-url: 'https://registry.npmjs.org'

      - name: å®‰è£ä¾è³´
        run: npm ci

      - name: åŸ·è¡Œæ¸¬è©¦
        run: npm test

      - name: ç™¼å¸ƒåˆ° npm
        run: npm publish
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
```

**3. ä»£ç¢¼å“è³ªæª¢æŸ¥** (`.github/workflows/lint.yml`):
```yaml
name: Code Quality

on: [push, pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: '20.x'

      - run: npm ci

      - name: ESLint æª¢æŸ¥
        run: npm run lint
        if: always()

      - name: Prettier æ ¼å¼æª¢æŸ¥
        run: npm run format:check
        if: always()
```

**å„ªå…ˆç´š**: ğŸŸ¡ ä¸­
**é ä¼°æ™‚é–“**: 1 å°æ™‚

---

## ğŸŸ¢ å„ªåŒ–å»ºè­° (ä¸­é•·æœŸè¦åŠƒ)

### 9. é–‹ç™¼å·¥å…·é…ç½®æ¨™æº–åŒ–

**å•é¡Œ**
- ç¼ºå°‘çµ±ä¸€çš„ä»£ç¢¼é¢¨æ ¼é…ç½®
- ä¸åŒé–‹ç™¼è€…å¯èƒ½ä½¿ç”¨ä¸åŒçš„æ ¼å¼

**è§£æ±ºæ–¹æ¡ˆ**
æ·»åŠ æ¨™æº–åŒ–é–‹ç™¼å·¥å…·é…ç½®ï¼š

**1. Prettier é…ç½®** (`.prettierrc`):
```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "arrowParens": "always"
}
```

**2. ESLint é…ç½®** (`.eslintrc.cjs`):
```javascript
module.exports = {
  env: {
    node: true,
    es2021: true,
  },
  extends: ['eslint:recommended'],
  parserOptions: {
    ecmaVersion: 'latest',
    sourceType: 'module',
  },
  rules: {
    'no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
    'no-console': 'off',
  },
};
```

**3. EditorConfig** (å·²å­˜åœ¨ï¼Œå¯èƒ½éœ€è¦èª¿æ•´):
```ini
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 2
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

[*.md]
trim_trailing_whitespace = false
```

**4. VSCode é…ç½®** (`.vscode/settings.json`):
```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  }
}
```

**5. Git Hooks** (ä½¿ç”¨ Husky):
```bash
npm install -D husky lint-staged
npx husky install
```

`.husky/pre-commit`:
```bash
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx lint-staged
```

`package.json`:
```json
{
  "lint-staged": {
    "*.js": ["eslint --fix", "prettier --write"],
    "*.{json,md}": ["prettier --write"]
  },
  "scripts": {
    "lint": "eslint src",
    "lint:fix": "eslint src --fix",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "prepare": "husky install"
  }
}
```

**å„ªå…ˆç´š**: ğŸŸ¢ ä¸­ä½
**é ä¼°æ™‚é–“**: 1 å°æ™‚

---

### 12. æ”¯æ´ Source Maps

**å•é¡Œ**
ç•¶æ¨¡æ¿ç·¨è­¯éŒ¯èª¤æ™‚ï¼ŒéŒ¯èª¤è¨Šæ¯æŒ‡å‘ç·¨è­¯å¾Œçš„ä»£ç¢¼ï¼Œé›£ä»¥å®šä½åŸå§‹ HTML ä½ç½®ã€‚

**è§£æ±ºæ–¹æ¡ˆ**
æ·»åŠ  Source Map æ”¯æ´ï¼Œå¹«åŠ©é–‹ç™¼è€…å®šä½éŒ¯èª¤ï¼š

```javascript
import { SourceMapGenerator } from 'source-map';

const transformLogicTags = (html, filename) => {
  const map = new SourceMapGenerator({
    file: filename
  });

  let processed = html;
  let line = 1;

  // è¨˜éŒ„æ¯æ¬¡è½‰æ›çš„ä½ç½®æ˜ å°„
  processed = processed.replace(REGEX.IF, (match, p1, offset) => {
    map.addMapping({
      source: filename,
      original: { line: getLineNumber(html, offset), column: 0 },
      generated: { line: line++, column: 0 }
    });
    return `<% if (${p1}) { %>`;
  });

  // ... å…¶ä»–è½‰æ› ...

  return {
    code: processed,
    map: map.toString()
  };
};

// è¼”åŠ©å‡½å¼ï¼šè¨ˆç®—åç§»é‡å°æ‡‰çš„è¡Œè™Ÿ
const getLineNumber = (str, offset) => {
  return str.substring(0, offset).split('\n').length;
};
```

**Vite æ•´åˆ**:
```javascript
transformIndexHtml: {
  order: 'pre',
  handler(html, ctx) {
    try {
      const result = resolveIncludes(html, globalData, ctx.filename);

      return {
        html: result.code,
        map: result.map
      };
    } catch (error) {
      // ä½¿ç”¨ source map é¡¯ç¤ºåŸå§‹ä½ç½®
      console.error(`éŒ¯èª¤ä½ç½®: ${ctx.filename}:${error.line}:${error.column}`);
      throw error;
    }
  }
}
```

**å„ªå…ˆç´š**: ğŸŸ¢ ä½
**é ä¼°æ™‚é–“**: 2 å¤©

---

### 13. æ“´å±• Debug æ¨¡å¼

**ç•¶å‰ç‹€æ…‹**
å·²æ”¯æ´åŸºæœ¬ DEBUG ç’°å¢ƒè®Šæ•¸ï¼Œä½†åŠŸèƒ½æœ‰é™ã€‚

**æ“´å±•æ–¹æ¡ˆ**
æä¾›æ›´è©³ç´°çš„èª¿è©¦è³‡è¨Šï¼š

```javascript
const DEBUG_ENABLED = process.env.DEBUG || process.env.VITE_HTML_KIT_DEBUG;
const DEBUG_VERBOSE = process.env.VITE_HTML_KIT_DEBUG === 'verbose';

// æ€§èƒ½ç›£æ§
const performanceMonitor = {
  start(name) {
    if (!DEBUG_ENABLED) return;
    console.time(`[vite-plugin-html-kit] ${name}`);
  },

  end(name) {
    if (!DEBUG_ENABLED) return;
    console.timeEnd(`[vite-plugin-html-kit] ${name}`);
  },

  stats: {
    includeCount: 0,
    transformCount: 0,
    cacheHits: 0,
    cacheMisses: 0
  },

  log() {
    if (!DEBUG_ENABLED) return;

    console.log('\nğŸ“Š [vite-plugin-html-kit] ç·¨è­¯çµ±è¨ˆ:');
    console.log(`  â”œâ”€ Include è™•ç†æ¬¡æ•¸: ${this.stats.includeCount}`);
    console.log(`  â”œâ”€ é‚è¼¯è½‰æ›æ¬¡æ•¸: ${this.stats.transformCount}`);
    console.log(`  â”œâ”€ å¿«å–å‘½ä¸­: ${this.stats.cacheHits}`);
    console.log(`  â””â”€ å¿«å–æœªå‘½ä¸­: ${this.stats.cacheMisses}`);
  }
};

// åœ¨å„è™•æ·»åŠ ç›£æ§é»
const transformLogicTags = (html) => {
  performanceMonitor.start('transformLogicTags');
  performanceMonitor.stats.transformCount++;

  // ... åŸæœ‰é‚è¼¯ ...

  performanceMonitor.end('transformLogicTags');
  return processed;
};

// Verbose æ¨¡å¼é¡¯ç¤ºæ›´å¤šè³‡è¨Š
if (DEBUG_VERBOSE) {
  console.log(`ğŸ” [vite-plugin-html-kit] è™•ç†æª”æ¡ˆ: ${filename}`);
  console.log(`   åŸå§‹å…§å®¹é•·åº¦: ${html.length} bytes`);
  console.log(`   Include æ¨™ç±¤æ•¸é‡: ${html.match(REGEX.INCLUDE)?.length || 0}`);
}
```

**ä½¿ç”¨æ–¹å¼**:
```bash
# åŸºæœ¬èª¿è©¦
DEBUG=1 npm run dev

# è©³ç´°èª¿è©¦
VITE_HTML_KIT_DEBUG=verbose npm run dev
```

**å„ªå…ˆç´š**: ğŸŸ¢ ä½
**é ä¼°æ™‚é–“**: 4 å°æ™‚

---

### 14. å®‰å…¨æ€§é ­éƒ¨æ”¯æ´

**å•é¡Œ**
ç•¶å‰æ²’æœ‰ Content Security Policy (CSP) ç›¸é—œé…ç½®ã€‚

**è§£æ±ºæ–¹æ¡ˆ**
æ·»åŠ é¸é …æ”¯æ´æ³¨å…¥å®‰å…¨æ€§é ­éƒ¨ï¼š

```javascript
vitePluginHtmlKit({
  partialsDir: 'partials',
  data: {},

  // æ–°å¢ï¼šå®‰å…¨æ€§é…ç½®
  security: {
    // CSP é…ç½®
    csp: {
      'default-src': ["'self'"],
      'script-src': ["'self'", "'unsafe-inline'"],
      'style-src': ["'self'", "'unsafe-inline'"],
      'img-src': ["'self'", 'data:', 'https:'],
    },

    // è‡ªå‹•æ·»åŠ  nonce åˆ° inline scripts
    autoNonce: true
  }
})
```

**å¯¦ä½œ**:
```javascript
transformIndexHtml(html, ctx) {
  // ... åŸæœ‰é‚è¼¯ ...

  if (options.security?.autoNonce) {
    // ç”Ÿæˆ nonce
    const nonce = crypto.randomBytes(16).toString('base64');

    // æ·»åŠ åˆ° inline scripts
    html = html.replace(
      /<script(?![^>]*src=)/gi,
      `<script nonce="${nonce}"`
    );

    // æ·»åŠ  CSP meta tag
    const cspContent = buildCSPString({
      ...options.security.csp,
      'script-src': [...options.security.csp['script-src'], `'nonce-${nonce}'`]
    });

    html = html.replace(
      '</head>',
      `  <meta http-equiv="Content-Security-Policy" content="${cspContent}">\n</head>`
    );
  }

  return html;
}
```

**å„ªå…ˆç´š**: ğŸŸ¢ ä½
**é ä¼°æ™‚é–“**: 1 å¤©

---

### 15. æ”¯æ´è‡ªè¨‚èªæ³•

**å•é¡Œ**
ç•¶å‰èªæ³•å›ºå®šç‚º `@if`, `@foreach` ç­‰ï¼Œç„¡æ³•è‡ªè¨‚ã€‚

**è§£æ±ºæ–¹æ¡ˆ**
å…è¨±ç”¨æˆ¶è‡ªè¨‚èªæ³•æ¨™è¨˜ï¼š

```javascript
vitePluginHtmlKit({
  partialsDir: 'partials',

  // æ–°å¢ï¼šè‡ªè¨‚èªæ³•é…ç½®
  syntax: {
    if: '@if',           // å¯æ”¹ç‚º '#if', '{{#if}}' ç­‰
    elseif: '@elseif',
    else: '@else',
    endif: '@endif',

    foreach: '@foreach', // å¯æ”¹ç‚º '@each', '#each' ç­‰
    endforeach: '@endforeach',

    switch: '@switch',
    case: '@case',
    default: '@default',
    endswitch: '@endswitch',

    // ä¹Ÿå¯ä»¥å®Œå…¨ä½¿ç”¨ä¸åŒé¢¨æ ¼
    // ä¾‹å¦‚ Handlebars é¢¨æ ¼: {{#if}}, {{/if}}
  }
})
```

**å¯¦ä½œ**:
```javascript
const buildRegexPatterns = (syntax) => {
  return {
    IF: new RegExp(`${escapeRegex(syntax.if)}\\s*\\((.*?)\\)`, 'gi'),
    ELSEIF: new RegExp(`${escapeRegex(syntax.elseif)}\\s*\\((.*?)\\)`, 'gi'),
    ELSE: new RegExp(escapeRegex(syntax.else), 'gi'),
    ENDIF: new RegExp(escapeRegex(syntax.endif), 'gi'),
    // ... å…¶ä»–èªæ³•
  };
};

export default function vitePluginHtmlKit(options = {}) {
  const syntax = {
    if: '@if',
    elseif: '@elseif',
    // ... é è¨­å€¼
    ...options.syntax
  };

  const REGEX = buildRegexPatterns(syntax);

  // ... å…¶é¤˜é‚è¼¯
}
```

**å„ªå…ˆç´š**: ğŸŸ¢ ä½
**é ä¼°æ™‚é–“**: 1 å¤©

---

## ğŸ“¦ ç™¼å¸ƒæº–å‚™

**æ³¨æ„**: é …ç›® 16 å’Œ 17 å·²å®Œæˆï¼Œç§»è‡³ã€Œå·²å®Œæˆé …ç›®ã€å€æ®µã€‚

---

## ğŸ“… å¯¦æ–½æ™‚ç¨‹è¦åŠƒ

### ç¬¬ä¸€éšæ®µï¼šç™¼å¸ƒæº–å‚™ âœ… (å·²å®Œæˆ 2026-01-15)
**ç›®æ¨™**: æº–å‚™ v0.1.0 ç™¼å¸ƒ

- [x] ~~æ·»åŠ  LICENSE æ–‡ä»¶~~ âœ… å·²å®Œæˆ
- [x] ~~æ·»åŠ  TypeScript é¡å‹å®šç¾©~~ âœ… å·²å®Œæˆ
- [x] ~~ä¿®å¾©å…¶ä»–è®Šé«”æª”æ¡ˆå®‰å…¨æ¼æ´~~ âœ… å·²å®Œæˆ
- [x] ~~å®Œå–„ package.json å…ƒæ•¸æ“š~~ âœ… å·²å®Œæˆ
- [x] ~~æ·»åŠ è‡ªå‹•åŒ–æ¸¬è©¦ï¼ˆè¦†è“‹ç‡ 91.97%ï¼‰~~ âœ… å·²å®Œæˆ
- [x] ~~å®Œå–„ README æ–‡æª”~~ âœ… å·²å®Œæˆ
- [ ] npm ç™¼å¸ƒæ¸…å–®æª¢æŸ¥

**å¯¦éš›æ™‚é–“**: ç´„ 4 å°æ™‚

---

### ç¬¬äºŒéšæ®µï¼šå“è³ªæå‡ (Week 3-4)
**ç›®æ¨™**: æŒçºŒæå‡ä»£ç¢¼å“è³ªå’Œæ–‡æª”

- [ ] æ·»åŠ  CHANGELOG.md
- [ ] å»ºç«‹ CI/CD æµç¨‹
- [ ] é–‹ç™¼å·¥å…·é…ç½®æ¨™æº–åŒ–

**é ä¼°æ™‚é–“**: 2-3 å¤©

---

### ç¬¬ä¸‰éšæ®µï¼šåŠŸèƒ½å¢å¼· (Month 2)
**ç›®æ¨™**: æ·»åŠ é€²éšåŠŸèƒ½

- [ ] å¾ªç’°å¼•ç”¨æª¢æ¸¬
- [ ] æ€§èƒ½å„ªåŒ–ï¼ˆå¿«å–æ©Ÿåˆ¶ï¼‰
- [ ] æ“´å±• Debug æ¨¡å¼
- [ ] å¯¦ä½œ Slots/Stacks åŠŸèƒ½ï¼ˆåŸæ”¹å–„è¨ˆåŠƒï¼‰

**é ä¼°æ™‚é–“**: 1 é€±

---

### ç¬¬å››éšæ®µï¼šé•·æœŸå„ªåŒ– (Month 3+)
**ç›®æ¨™**: æŒçºŒæ”¹é€²

- [ ] Source Maps æ”¯æ´
- [ ] å®‰å…¨æ€§é ­éƒ¨æ”¯æ´
- [ ] è‡ªè¨‚èªæ³•æ”¯æ´
- [ ] æ›´å¤šç¯„ä¾‹å’Œæ–‡æª”

**é ä¼°æ™‚é–“**: æŒçºŒé€²è¡Œ

---

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

### ä»£ç¢¼å“è³ªæŒ‡æ¨™
- âœ… æ¸¬è©¦è¦†è“‹ç‡ â‰¥ 80% â†’ **é”æˆ 91.97%**
- âœ… ç„¡ ESLint éŒ¯èª¤ â†’ **å¾…é©—è­‰**
- ğŸ”„ æ‰€æœ‰ CI æ¸¬è©¦é€šé â†’ **CI/CD æœªå»ºç«‹**
- âœ… ç„¡å·²çŸ¥å®‰å…¨æ¼æ´ â†’ **å·²ä¿®å¾©æ‰€æœ‰å·²çŸ¥å•é¡Œ**

### æ–‡æª”å“è³ªæŒ‡æ¨™
- âœ… README å®Œæ•´åº¦ â‰¥ 90% â†’ **é”æˆ 100%**
- âœ… æ‰€æœ‰å…¬é–‹ API æœ‰ JSDoc â†’ **é”æˆ**
- âœ… æœ‰å¯¦éš›ä½¿ç”¨ç¯„ä¾‹ â†’ **é”æˆ (3å€‹çœŸå¯¦æ¡ˆä¾‹)**
- âœ… æœ‰æ•…éšœæ’é™¤æŒ‡å— â†’ **é”æˆ (6å€‹å¸¸è¦‹å•é¡Œ)**

---

## ğŸ“ è¯çµ¡èˆ‡åé¥‹

å¦‚æœ‰ä»»ä½•å»ºè­°æˆ–å•é¡Œï¼Œæ­¡è¿ï¼š
- ğŸ“§ æäº¤ GitHub Issue
- ğŸ’¬ åƒèˆ‡ GitHub Discussions
- ğŸ› æäº¤ Pull Request

---

**æ–‡ä»¶ç‰ˆæœ¬**: v2.0
**æœ€å¾Œæ›´æ–°**: 2026-01-15
**ç¶­è­·è€…**: Denny (@dennykuo)
